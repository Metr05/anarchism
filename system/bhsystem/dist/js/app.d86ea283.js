(function(e){function t(t){for(var n,r,o=t[0],s=t[1],u=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(p.length)p.shift()();return l.push.apply(l,u||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,o=1;o<i.length;o++){var s=i[o];0!==a[s]&&(n=!1)}n&&(l.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={app:0},l=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=s;l.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"46dd":function(e,t,i){"use strict";i("ca58")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("a026"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("BHblockly")],1)},l=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-blockly",{staticClass:"container",attrs:{xml_text:e.xml}})],1)},o=[],s=i("b7fd"),u=(i("49d2"),i("fc06"),i("560a")),c=i("bc3a"),d=i.n(c),p=i("1157"),v=i.n(p),h=(i("b0c0"),i("7724")),f=i.n(h);function m(e){document.getElementById("resultprint").value=document.getElementById("resultprint").value+String(e)+"\n",console.log(e)}function I(e,t){function i(e,t,i,n,a){this.name="Entity",this.type=e,this.id=t,this.isFound=i,this.player_uuid=n[0],this.player_avatar=a,this.lists=["Saab","Volvo","BMW"]}var n,a={},l={printf:[t,function(e){m(e)}],GetEntities:[t,function(e,t){var a,l,r;switch(e){case 0:v.a.ajax({url:"/api/minecraft/"+t,type:"get",async:!1,success:function(o){var s=o["data"];o["success"]?(a=!0,l=[s["player"]["id"],s["player"]["raw_id"]],r=s["player"]["avatar"]):(a=!1,l=[null],r=null),n=new i(e,t,a,l,r)},error:function(a){n=new i(e,t,!1,[null],null)}});break;case 1:break;case 2:break;case 3:break;case 4:break;default:break}return n}],GetChild:[t,function(e,t){return String(e[t])}]},r={ENTITIES_PLAYER:[t,0],ENTITIES_POLITICS:[t,1],ENTITIES_ECONOMICS:[t,2],ENTITIES_LAW:[t,3],ENTITIES_GROUP:[t,4]};for(var o in a)e.setProperty(a[o][0],o,a[o][1]);for(var s in l)e.setProperty(l[s][0],s,e.createNativeFunction(l[s][1]));for(var u in r)e.setProperty(r[u][0],u,r[u][1])}var E={execute:function(e){document.getElementById("resultprint").value="";var t=String(e),i=new f.a(t,I);try{i.run()}catch(e){document.getElementById("resultprint").value="语法错误\n"+e}}},b={props:{xml_text:null},mounted:function(){var e=this;d.a.get("./toolbox.xml").then((function(t){s["Blocks"]["make_array"]={init:function(){this.appendValueInput("stringtoarray").setCheck("String").appendField("制表"),this.setInputsInline(!1),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip("将实体子数据转换成列表"),this.setHelpUrl("")}},s["Blocks"]["entities_meta"]={init:function(){this.appendDummyInput().appendField(new s["FieldDropdown"]([["ID","id"],["type","type"],["isFound","isFound"],["UUID","player_uuid"],["Avatar","player_avatar"],["Lists","lists"]]),"ENTITIES_OPTION"),this.setOutput(!0,"entities_meta"),this.setColour(230),this.setTooltip("实体元素名"),this.setHelpUrl("")}},s["Blocks"]["v_foreach"]={init:function(){this.appendValueInput("items").setCheck("Array").appendField("为表"),this.appendDummyInput().appendField("中的每一对").appendField(new s["FieldVariable"]("key"),"key").appendField(new s["FieldVariable"]("value"),"value"),this.appendStatementInput("do").setCheck(null).appendField("进行"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip("元素遍历"),this.setHelpUrl("")}},s["Blocks"]["get_child"]={init:function(){this.appendValueInput("items").setCheck("entities").appendField("获取对象"),this.appendValueInput("item").setCheck("entities_meta").appendField("中的"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("获取子元素"),this.setHelpUrl("")}},s["Blocks"]["get_entities"]={init:function(){this.appendDummyInput().appendField("实体").appendField(new s["FieldDropdown"]([["玩家实体","ENTITIES_PLAYER"],["政治实体","ENTITIES_POLITICS"],["经济实体","ENTITIES_ECONOMICS"],["法律实体","ENTITIES_LAW"],["注册群体","ENTITIES_GROUP"]]),"ENTITIES_TYPE").appendField("ID").appendField(new s["FieldTextInput"]("Notch"),"ENTITIES_NAME"),this.setInputsInline(!0),this.setOutput(!0,"entities"),this.setColour(230),this.setTooltip("获取实体数据"),this.setHelpUrl("")}},s["Blocks"]["printf"]={init:function(){this.appendValueInput("Value").setCheck(null).appendField("输出"),this.setPreviousStatement(!0,null),this.setColour(160),this.setTooltip("打印点什么东西到控制台"),this.setHelpUrl("")}},s["JavaScript"]["make_array"]=function(e){var t=s["JavaScript"].valueToCode(e,"stringtoarray",s["JavaScript"].ORDER_ATOMIC),i=t+'.split(",")';return[i,s["JavaScript"].ORDER_NONE]},s["JavaScript"]["entities_meta"]=function(e){var t=e.getFieldValue("ENTITIES_OPTION"),i="'"+String(t)+"'";return[i,s["JavaScript"].ORDER_NONE]},s["JavaScript"]["v_foreach"]=function(e){var t=s["JavaScript"].valueToCode(e,"items",s["JavaScript"].ORDER_ATOMIC),i=(s["JavaScript"].variableDB_.getName(e.getFieldValue("key"),s["Variables"].NAME_TYPE),s["JavaScript"].variableDB_.getName(e.getFieldValue("value"),s["Variables"].NAME_TYPE),s["JavaScript"].statementToCode(e,"do")),n="for(key in "+t+"){value="+t+"[key];"+i+"};\n";return n},s["JavaScript"]["get_child"]=function(e){var t=s["JavaScript"].valueToCode(e,"items",s["JavaScript"].ORDER_ATOMIC),i=s["JavaScript"].valueToCode(e,"item",s["JavaScript"].ORDER_ATOMIC),n="GetChild("+t+","+i+")";return[n,s["JavaScript"].ORDER_NONE]},s["JavaScript"]["printf"]=function(e){var t=s["JavaScript"].valueToCode(e,"Value",s["JavaScript"].ORDER_ATOMIC),i="printf("+t+");\n";return i},s["JavaScript"]["get_entities"]=function(e){var t=e.getFieldValue("ENTITIES_TYPE"),i=e.getFieldValue("ENTITIES_NAME"),n="GetEntities("+t+',"'+i+'")';return[n,s["JavaScript"].ORDER_NONE]};var i=t.data;s["setLocale"](u);var n,a={toolbox:i,collapse:!1,comments:!1,disable:!1,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,rtl:!1,scrollbars:!1,sounds:!1,oneBasedIndex:!0},l=s["inject"]("blocklyDiv",a),r=null!=i?s["Xml"].textToDom(e.xml_text):null;null!=r&&s["Xml"].domToWorkspace(r,l),l.addChangeListener((function(e){var t=s["JavaScript"].workspaceToCode(l);document.getElementById("codeprint").value=t;var i=s["Xml"].workspaceToDom(l),a=s["Xml"].domToText(i);n=a})),v()("#exportBtn").on("click",(function(){console.log(n)}))})).catch((function(e){console.log(e)}))},methods:{praseBtn:function(){E.execute(document.getElementById("codeprint").value)}},template:'\n    <div>\n        <div id="blocklyDiv" style="float:left;height:50%;width: 100%;"></div>\n        <div style="float:left;width: 100%;">\n        <div style="float:left;width:50%;height:50vh"><textarea disabled placeholder="代码" id="codeprint" style="height:100%;width: 100%;"></textarea></div>\n        <div style="float:left;width:50%;height:50vh"><textarea disabled placeholder="结果" id="resultprint" style="height:100%;width: 100%;"></textarea></div>\n        <button  @click="praseBtn">运行</button>\n        <button id="exportBtn">导出</button>\n        </div>\n    </div>\n        '},y={components:{"v-blockly":b},data:function(){return{xml:'<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="WhM5aIi_vX%nI?@EB]Ch">lists</variable><variable id="gEnzhQtFb=AD|Rk2(I0m">key</variable><variable id="E}?e.vc^Cx:@$$Ud(8K@">value</variable></variables><block type="variables_set" id="2rj5jQ0uU:1)*r%k#c*}" x="120" y="142"><field name="VAR" id="WhM5aIi_vX%nI?@EB]Ch">lists</field><value name="VALUE"><block type="make_array" id="wz$}kDZCSrFpoxos$_UU"><value name="stringtoarray"><block type="get_child" id="iBmOyW^+dY,=;OOkm^aq"><value name="items"><block type="get_entities" id=")87#O;3rr~Ab~65:JW_6"><field name="ENTITIES_TYPE">ENTITIES_PLAYER</field><field name="ENTITIES_NAME">Notch</field></block></value><value name="item"><block type="entities_meta" id="$_8igSX{3|Hs1)7*-$aH"><field name="ENTITIES_OPTION">id</field></block></value></block></value></block></value><next><block type="v_foreach" id="1x^93d_Cfc5bWu`~^,;g"><field name="key" id="gEnzhQtFb=AD|Rk2(I0m">key</field><field name="value" id="E}?e.vc^Cx:@$$Ud(8K@">value</field><value name="items"><block type="variables_get" id="1+D24B$HHRgfUM(wd$zx"><field name="VAR" id="WhM5aIi_vX%nI?@EB]Ch">lists</field></block></value><statement name="do"><block type="printf" id="m(ygQCywIv!Cfd~qoRA7"><value name="Value"><block type="variables_get" id="J_;.,`%v!^5O!-Gegdl?"><field name="VAR" id="E}?e.vc^Cx:@$$Ud(8K@">value</field></block></value></block></statement></block></next></block></xml>'}}},_=y,T=(i("46dd"),i("2877")),k=Object(T["a"])(_,r,o,!1,null,null,null),S=k.exports,g={components:{BHblockly:S},name:"App"},O=g,x=Object(T["a"])(O,a,l,!1,null,null,null),C=x.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(C)}}).$mount("#app")},ca58:function(e,t,i){}});
//# sourceMappingURL=app.d86ea283.js.map